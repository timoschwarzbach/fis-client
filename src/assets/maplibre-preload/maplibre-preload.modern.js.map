{"version":3,"file":"maplibre-preload.modern.js","sources":["../node_modules/@mapbox/tilebelt/index.js","../node_modules/@mapbox/sphericalmercator/sphericalmercator.js","../node_modules/@mapbox/geo-viewport/index.js","../node_modules/stackframe/stackframe.js","../node_modules/error-stack-parser/error-stack-parser.js","../node_modules/@mapbox/point-geometry/index.js","../src/index.js"],"sourcesContent":["'use strict';\n\nvar d2r = Math.PI / 180,\n    r2d = 180 / Math.PI;\n\n/**\n * Get the bbox of a tile\n *\n * @name tileToBBOX\n * @param {Array<number>} tile\n * @returns {Array<number>} bbox\n * @example\n * var bbox = tileToBBOX([5, 10, 10])\n * //=bbox\n */\nfunction tileToBBOX(tile) {\n    var e = tile2lon(tile[0] + 1, tile[2]);\n    var w = tile2lon(tile[0], tile[2]);\n    var s = tile2lat(tile[1] + 1, tile[2]);\n    var n = tile2lat(tile[1], tile[2]);\n    return [w, s, e, n];\n}\n\n/**\n * Get a geojson representation of a tile\n *\n * @name tileToGeoJSON\n * @param {Array<number>} tile\n * @returns {Feature<Polygon>}\n * @example\n * var poly = tileToGeoJSON([5, 10, 10])\n * //=poly\n */\nfunction tileToGeoJSON(tile) {\n    var bbox = tileToBBOX(tile);\n    var poly = {\n        type: 'Polygon',\n        coordinates: [[\n            [bbox[0], bbox[3]],\n            [bbox[0], bbox[1]],\n            [bbox[2], bbox[1]],\n            [bbox[2], bbox[3]],\n            [bbox[0], bbox[3]]\n        ]]\n    };\n    return poly;\n}\n\nfunction tile2lon(x, z) {\n    return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n    var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n    return r2d * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\n/**\n * Get the tile for a point at a specified zoom level\n *\n * @name pointToTile\n * @param {number} lon\n * @param {number} lat\n * @param {number} z\n * @returns {Array<number>} tile\n * @example\n * var tile = pointToTile(1, 1, 20)\n * //=tile\n */\nfunction pointToTile(lon, lat, z) {\n    var tile = pointToTileFraction(lon, lat, z);\n    tile[0] = Math.floor(tile[0]);\n    tile[1] = Math.floor(tile[1]);\n    return tile;\n}\n\n/**\n * Get the 4 tiles one zoom level higher\n *\n * @name getChildren\n * @param {Array<number>} tile\n * @returns {Array<Array<number>>} tiles\n * @example\n * var tiles = getChildren([5, 10, 10])\n * //=tiles\n */\nfunction getChildren(tile) {\n    return [\n        [tile[0] * 2, tile[1] * 2, tile[2] + 1],\n        [tile[0] * 2 + 1, tile[1] * 2, tile[2 ] + 1],\n        [tile[0] * 2 + 1, tile[1] * 2 + 1, tile[2] + 1],\n        [tile[0] * 2, tile[1] * 2 + 1, tile[2] + 1]\n    ];\n}\n\n/**\n * Get the tile one zoom level lower\n *\n * @name getParent\n * @param {Array<number>} tile\n * @returns {Array<number>} tile\n * @example\n * var tile = getParent([5, 10, 10])\n * //=tile\n */\nfunction getParent(tile) {\n    return [tile[0] >> 1, tile[1] >> 1, tile[2] - 1];\n}\n\nfunction getSiblings(tile) {\n    return getChildren(getParent(tile));\n}\n\n/**\n * Get the 3 sibling tiles for a tile\n *\n * @name getSiblings\n * @param {Array<number>} tile\n * @returns {Array<Array<number>>} tiles\n * @example\n * var tiles = getSiblings([5, 10, 10])\n * //=tiles\n */\nfunction hasSiblings(tile, tiles) {\n    var siblings = getSiblings(tile);\n    for (var i = 0; i < siblings.length; i++) {\n        if (!hasTile(tiles, siblings[i])) return false;\n    }\n    return true;\n}\n\n/**\n * Check to see if an array of tiles contains a particular tile\n *\n * @name hasTile\n * @param {Array<Array<number>>} tiles\n * @param {Array<number>} tile\n * @returns {boolean}\n * @example\n * var tiles = [\n *     [0, 0, 5],\n *     [0, 1, 5],\n *     [1, 1, 5],\n *     [1, 0, 5]\n * ]\n * hasTile(tiles, [0, 0, 5])\n * //=boolean\n */\nfunction hasTile(tiles, tile) {\n    for (var i = 0; i < tiles.length; i++) {\n        if (tilesEqual(tiles[i], tile)) return true;\n    }\n    return false;\n}\n\n/**\n * Check to see if two tiles are the same\n *\n * @name tilesEqual\n * @param {Array<number>} tile1\n * @param {Array<number>} tile2\n * @returns {boolean}\n * @example\n * tilesEqual([0, 1, 5], [0, 0, 5])\n * //=boolean\n */\nfunction tilesEqual(tile1, tile2) {\n    return (\n        tile1[0] === tile2[0] &&\n        tile1[1] === tile2[1] &&\n        tile1[2] === tile2[2]\n    );\n}\n\n/**\n * Get the quadkey for a tile\n *\n * @name tileToQuadkey\n * @param {Array<number>} tile\n * @returns {string} quadkey\n * @example\n * var quadkey = tileToQuadkey([0, 1, 5])\n * //=quadkey\n */\nfunction tileToQuadkey(tile) {\n    var index = '';\n    for (var z = tile[2]; z > 0; z--) {\n        var b = 0;\n        var mask = 1 << (z - 1);\n        if ((tile[0] & mask) !== 0) b++;\n        if ((tile[1] & mask) !== 0) b += 2;\n        index += b.toString();\n    }\n    return index;\n}\n\n/**\n * Get the tile for a quadkey\n *\n * @name quadkeyToTile\n * @param {string} quadkey\n * @returns {Array<number>} tile\n * @example\n * var tile = quadkeyToTile('00001033')\n * //=tile\n */\nfunction quadkeyToTile(quadkey) {\n    var x = 0;\n    var y = 0;\n    var z = quadkey.length;\n\n    for (var i = z; i > 0; i--) {\n        var mask = 1 << (i - 1);\n        var q = +quadkey[z - i];\n        if (q === 1) x |= mask;\n        if (q === 2) y |= mask;\n        if (q === 3) {\n            x |= mask;\n            y |= mask;\n        }\n    }\n    return [x, y, z];\n}\n\n/**\n * Get the smallest tile to cover a bbox\n *\n * @name bboxToTile\n * @param {Array<number>} bbox\n * @returns {Array<number>} tile\n * @example\n * var tile = bboxToTile([ -178, 84, -177, 85 ])\n * //=tile\n */\nfunction bboxToTile(bboxCoords) {\n    var min = pointToTile(bboxCoords[0], bboxCoords[1], 32);\n    var max = pointToTile(bboxCoords[2], bboxCoords[3], 32);\n    var bbox = [min[0], min[1], max[0], max[1]];\n\n    var z = getBboxZoom(bbox);\n    if (z === 0) return [0, 0, 0];\n    var x = bbox[0] >>> (32 - z);\n    var y = bbox[1] >>> (32 - z);\n    return [x, y, z];\n}\n\nfunction getBboxZoom(bbox) {\n    var MAX_ZOOM = 28;\n    for (var z = 0; z < MAX_ZOOM; z++) {\n        var mask = 1 << (32 - (z + 1));\n        if (((bbox[0] & mask) !== (bbox[2] & mask)) ||\n            ((bbox[1] & mask) !== (bbox[3] & mask))) {\n            return z;\n        }\n    }\n\n    return MAX_ZOOM;\n}\n\n/**\n * Get the precise fractional tile location for a point at a zoom level\n *\n * @name pointToTileFraction\n * @param {number} lon\n * @param {number} lat\n * @param {number} z\n * @returns {Array<number>} tile fraction\n * var tile = pointToTileFraction(30.5, 50.5, 15)\n * //=tile\n */\nfunction pointToTileFraction(lon, lat, z) {\n    var sin = Math.sin(lat * d2r),\n        z2 = Math.pow(2, z),\n        x = z2 * (lon / 360 + 0.5),\n        y = z2 * (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n\n    // Wrap Tile X\n    x = x % z2;\n    if (x < 0) x = x + z2;\n    return [x, y, z];\n}\n\nmodule.exports = {\n    tileToGeoJSON: tileToGeoJSON,\n    tileToBBOX: tileToBBOX,\n    getChildren: getChildren,\n    getParent: getParent,\n    getSiblings: getSiblings,\n    hasTile: hasTile,\n    hasSiblings: hasSiblings,\n    tilesEqual: tilesEqual,\n    tileToQuadkey: tileToQuadkey,\n    quadkeyToTile: quadkeyToTile,\n    pointToTile: pointToTile,\n    bboxToTile: bboxToTile,\n    pointToTileFraction: pointToTileFraction\n};\n","var SphericalMercator = (function(){\n\n// Closures including constants and other precalculated values.\nvar cache = {},\n    EPSLN = 1.0e-10,\n    D2R = Math.PI / 180,\n    R2D = 180 / Math.PI,\n    // 900913 properties.\n    A = 6378137.0,\n    MAXEXTENT = 20037508.342789244;\n\nfunction isFloat(n){\n    return Number(n) === n && n % 1 !== 0;\n}\n\n// SphericalMercator constructor: precaches calculations\n// for fast tile lookups.\nfunction SphericalMercator(options) {\n    options = options || {};\n    this.size = options.size || 256;\n    if (!cache[this.size]) {\n        var size = this.size;\n        var c = cache[this.size] = {};\n        c.Bc = [];\n        c.Cc = [];\n        c.zc = [];\n        c.Ac = [];\n        for (var d = 0; d < 30; d++) {\n            c.Bc.push(size / 360);\n            c.Cc.push(size / (2 * Math.PI));\n            c.zc.push(size / 2);\n            c.Ac.push(size);\n            size *= 2;\n        }\n    }\n    this.Bc = cache[this.size].Bc;\n    this.Cc = cache[this.size].Cc;\n    this.zc = cache[this.size].zc;\n    this.Ac = cache[this.size].Ac;\n};\n\n// Convert lon lat to screen pixel value\n//\n// - `ll` {Array} `[lon, lat]` array of geographic coordinates.\n// - `zoom` {Number} zoom level.\nSphericalMercator.prototype.px = function(ll, zoom) {\n  if (isFloat(zoom)) {\n    var size = this.size * Math.pow(2, zoom);\n    var d = size / 2;\n    var bc = (size / 360);\n    var cc = (size / (2 * Math.PI));\n    var ac = size;\n    var f = Math.min(Math.max(Math.sin(D2R * ll[1]), -0.9999), 0.9999);\n    var x = d + ll[0] * bc;\n    var y = d + 0.5 * Math.log((1 + f) / (1 - f)) * -cc;\n    (x > ac) && (x = ac);\n    (y > ac) && (y = ac);\n    //(x < 0) && (x = 0);\n    //(y < 0) && (y = 0);\n    return [x, y];\n  } else {\n    var d = this.zc[zoom];\n    var f = Math.min(Math.max(Math.sin(D2R * ll[1]), -0.9999), 0.9999);\n    var x = Math.round(d + ll[0] * this.Bc[zoom]);\n    var y = Math.round(d + 0.5 * Math.log((1 + f) / (1 - f)) * (-this.Cc[zoom]));\n    (x > this.Ac[zoom]) && (x = this.Ac[zoom]);\n    (y > this.Ac[zoom]) && (y = this.Ac[zoom]);\n    //(x < 0) && (x = 0);\n    //(y < 0) && (y = 0);\n    return [x, y];\n  }\n};\n\n// Convert screen pixel value to lon lat\n//\n// - `px` {Array} `[x, y]` array of geographic coordinates.\n// - `zoom` {Number} zoom level.\nSphericalMercator.prototype.ll = function(px, zoom) {\n  if (isFloat(zoom)) {\n    var size = this.size * Math.pow(2, zoom);\n    var bc = (size / 360);\n    var cc = (size / (2 * Math.PI));\n    var zc = size / 2;\n    var g = (px[1] - zc) / -cc;\n    var lon = (px[0] - zc) / bc;\n    var lat = R2D * (2 * Math.atan(Math.exp(g)) - 0.5 * Math.PI);\n    return [lon, lat];\n  } else {\n    var g = (px[1] - this.zc[zoom]) / (-this.Cc[zoom]);\n    var lon = (px[0] - this.zc[zoom]) / this.Bc[zoom];\n    var lat = R2D * (2 * Math.atan(Math.exp(g)) - 0.5 * Math.PI);\n    return [lon, lat];\n  }\n};\n\n// Convert tile xyz value to bbox of the form `[w, s, e, n]`\n//\n// - `x` {Number} x (longitude) number.\n// - `y` {Number} y (latitude) number.\n// - `zoom` {Number} zoom.\n// - `tms_style` {Boolean} whether to compute using tms-style.\n// - `srs` {String} projection for resulting bbox (WGS84|900913).\n// - `return` {Array} bbox array of values in form `[w, s, e, n]`.\nSphericalMercator.prototype.bbox = function(x, y, zoom, tms_style, srs) {\n    // Convert xyz into bbox with srs WGS84\n    if (tms_style) {\n        y = (Math.pow(2, zoom) - 1) - y;\n    }\n    // Use +y to make sure it's a number to avoid inadvertent concatenation.\n    var ll = [x * this.size, (+y + 1) * this.size]; // lower left\n    // Use +x to make sure it's a number to avoid inadvertent concatenation.\n    var ur = [(+x + 1) * this.size, y * this.size]; // upper right\n    var bbox = this.ll(ll, zoom).concat(this.ll(ur, zoom));\n\n    // If web mercator requested reproject to 900913.\n    if (srs === '900913') {\n        return this.convert(bbox, '900913');\n    } else {\n        return bbox;\n    }\n};\n\n// Convert bbox to xyx bounds\n//\n// - `bbox` {Number} bbox in the form `[w, s, e, n]`.\n// - `zoom` {Number} zoom.\n// - `tms_style` {Boolean} whether to compute using tms-style.\n// - `srs` {String} projection of input bbox (WGS84|900913).\n// - `@return` {Object} XYZ bounds containing minX, maxX, minY, maxY properties.\nSphericalMercator.prototype.xyz = function(bbox, zoom, tms_style, srs) {\n    // If web mercator provided reproject to WGS84.\n    if (srs === '900913') {\n        bbox = this.convert(bbox, 'WGS84');\n    }\n\n    var ll = [bbox[0], bbox[1]]; // lower left\n    var ur = [bbox[2], bbox[3]]; // upper right\n    var px_ll = this.px(ll, zoom);\n    var px_ur = this.px(ur, zoom);\n    // Y = 0 for XYZ is the top hence minY uses px_ur[1].\n    var x = [ Math.floor(px_ll[0] / this.size), Math.floor((px_ur[0] - 1) / this.size) ];\n    var y = [ Math.floor(px_ur[1] / this.size), Math.floor((px_ll[1] - 1) / this.size) ];\n    var bounds = {\n        minX: Math.min.apply(Math, x) < 0 ? 0 : Math.min.apply(Math, x),\n        minY: Math.min.apply(Math, y) < 0 ? 0 : Math.min.apply(Math, y),\n        maxX: Math.max.apply(Math, x),\n        maxY: Math.max.apply(Math, y)\n    };\n    if (tms_style) {\n        var tms = {\n            minY: (Math.pow(2, zoom) - 1) - bounds.maxY,\n            maxY: (Math.pow(2, zoom) - 1) - bounds.minY\n        };\n        bounds.minY = tms.minY;\n        bounds.maxY = tms.maxY;\n    }\n    return bounds;\n};\n\n// Convert projection of given bbox.\n//\n// - `bbox` {Number} bbox in the form `[w, s, e, n]`.\n// - `to` {String} projection of output bbox (WGS84|900913). Input bbox\n//   assumed to be the \"other\" projection.\n// - `@return` {Object} bbox with reprojected coordinates.\nSphericalMercator.prototype.convert = function(bbox, to) {\n    if (to === '900913') {\n        return this.forward(bbox.slice(0, 2)).concat(this.forward(bbox.slice(2,4)));\n    } else {\n        return this.inverse(bbox.slice(0, 2)).concat(this.inverse(bbox.slice(2,4)));\n    }\n};\n\n// Convert lon/lat values to 900913 x/y.\nSphericalMercator.prototype.forward = function(ll) {\n    var xy = [\n        A * ll[0] * D2R,\n        A * Math.log(Math.tan((Math.PI*0.25) + (0.5 * ll[1] * D2R)))\n    ];\n    // if xy value is beyond maxextent (e.g. poles), return maxextent.\n    (xy[0] > MAXEXTENT) && (xy[0] = MAXEXTENT);\n    (xy[0] < -MAXEXTENT) && (xy[0] = -MAXEXTENT);\n    (xy[1] > MAXEXTENT) && (xy[1] = MAXEXTENT);\n    (xy[1] < -MAXEXTENT) && (xy[1] = -MAXEXTENT);\n    return xy;\n};\n\n// Convert 900913 x/y values to lon/lat.\nSphericalMercator.prototype.inverse = function(xy) {\n    return [\n        (xy[0] * R2D / A),\n        ((Math.PI*0.5) - 2.0 * Math.atan(Math.exp(-xy[1] / A))) * R2D\n    ];\n};\n\nreturn SphericalMercator;\n\n})();\n\nif (typeof module !== 'undefined' && typeof exports !== 'undefined') {\n    module.exports = exports = SphericalMercator;\n}\n","var SphericalMercator = require('@mapbox/sphericalmercator');\n\n// The SphericalMercator library only accepts a variable\n// tileSize on instantiation, which it uses to pre-cache\n// calculations by zoom level.\n// We cache each instantiation, keyed by tile size, to avoid\n// repeating this cost when working with a single tile size\n// (assumed to be the most-common use case).\nvar smCache = {};\n\nmodule.exports.viewport = viewport;\nmodule.exports.bounds = bounds;\n\nfunction fetchMerc(tileSize) {\n    tileSize = tileSize || 256;\n\n    if (!smCache[tileSize]) {\n        smCache[tileSize] = new SphericalMercator({ size: tileSize });\n    }\n\n    return smCache[tileSize];\n}\n\nfunction getAdjusted(base, ratios, allowFloat) {\n    var adjusted = Math.min(\n        base - (Math.log(ratios[0]) / Math.log(2)),\n        base - (Math.log(ratios[1]) / Math.log(2)));\n\n    return allowFloat ? adjusted : Math.floor(adjusted);\n}\n\nfunction viewport(bounds, dimensions, minzoom, maxzoom, tileSize, allowFloat) {\n    minzoom = (minzoom === undefined) ? 0 : minzoom;\n    maxzoom = (maxzoom === undefined) ? 20 : maxzoom;\n    var merc = fetchMerc(tileSize);\n    var base = maxzoom;\n    var bl = merc.px([bounds[0], bounds[1]], base);\n    var tr = merc.px([bounds[2], bounds[3]], base);\n    var width = tr[0] - bl[0];\n    var height = bl[1] - tr[1];\n    var centerPixelX = bl[0] + (width / 2);\n    var centerPixelY = tr[1] + (height / 2);\n    var ratios = [width / dimensions[0], height / dimensions[1]];\n    var adjusted = getAdjusted(base, ratios, allowFloat);\n\n    var center = merc.ll([centerPixelX, centerPixelY], base);\n    var zoom = Math.max(minzoom, Math.min(maxzoom, adjusted));\n\n    return { center, zoom };\n}\n\nfunction bounds(viewport, zoom, dimensions, tileSize) {\n    if (viewport.lon !== undefined) {\n        viewport = [\n            viewport.lon,\n            viewport.lat\n        ];\n    }\n\n    var merc = fetchMerc(tileSize);\n    var px = merc.px(viewport, zoom);\n    var tl = merc.ll([\n        px[0] - (dimensions[0] / 2),\n        px[1] - (dimensions[1] / 2)\n    ], zoom);\n    var br = merc.ll([\n        px[0] + (dimensions[0] / 2),\n        px[1] + (dimensions[1] / 2)\n    ], zoom);\n    return [tl[0], br[1], br[0], tl[1]];\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","'use strict';\n\nmodule.exports = Point;\n\n/**\n * A standalone point geometry with useful accessor, comparison, and\n * modification methods.\n *\n * @class Point\n * @param {Number} x the x-coordinate. this could be longitude or screen\n * pixels, or any other sort of unit.\n * @param {Number} y the y-coordinate. this could be latitude or screen\n * pixels, or any other sort of unit.\n * @example\n * var point = new Point(-77, 38);\n */\nfunction Point(x, y) {\n    this.x = x;\n    this.y = y;\n}\n\nPoint.prototype = {\n\n    /**\n     * Clone this point, returning a new point that can be modified\n     * without affecting the old one.\n     * @return {Point} the clone\n     */\n    clone: function() { return new Point(this.x, this.y); },\n\n    /**\n     * Add this point's x & y coordinates to another point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    add:     function(p) { return this.clone()._add(p); },\n\n    /**\n     * Subtract this point's x & y coordinates to from point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    sub:     function(p) { return this.clone()._sub(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    multByPoint:    function(p) { return this.clone()._multByPoint(p); },\n\n    /**\n     * Divide this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    divByPoint:     function(p) { return this.clone()._divByPoint(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    mult:    function(k) { return this.clone()._mult(k); },\n\n    /**\n     * Divide this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    div:     function(k) { return this.clone()._div(k); },\n\n    /**\n     * Rotate this point around the 0, 0 origin by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @return {Point} output point\n     */\n    rotate:  function(a) { return this.clone()._rotate(a); },\n\n    /**\n     * Rotate this point around p point by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @param {Point} p Point to rotate around\n     * @return {Point} output point\n     */\n    rotateAround:  function(a,p) { return this.clone()._rotateAround(a,p); },\n\n    /**\n     * Multiply this point by a 4x1 transformation matrix\n     * @param {Array<Number>} m transformation matrix\n     * @return {Point} output point\n     */\n    matMult: function(m) { return this.clone()._matMult(m); },\n\n    /**\n     * Calculate this point but as a unit vector from 0, 0, meaning\n     * that the distance from the resulting point to the 0, 0\n     * coordinate will be equal to 1 and the angle from the resulting\n     * point to the 0, 0 coordinate will be the same as before.\n     * @return {Point} unit vector point\n     */\n    unit:    function() { return this.clone()._unit(); },\n\n    /**\n     * Compute a perpendicular point, where the new y coordinate\n     * is the old x coordinate and the new x coordinate is the old y\n     * coordinate multiplied by -1\n     * @return {Point} perpendicular point\n     */\n    perp:    function() { return this.clone()._perp(); },\n\n    /**\n     * Return a version of this point with the x & y coordinates\n     * rounded to integers.\n     * @return {Point} rounded point\n     */\n    round:   function() { return this.clone()._round(); },\n\n    /**\n     * Return the magitude of this point: this is the Euclidean\n     * distance from the 0, 0 coordinate to this point's x and y\n     * coordinates.\n     * @return {Number} magnitude\n     */\n    mag: function() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n\n    /**\n     * Judge whether this point is equal to another point, returning\n     * true or false.\n     * @param {Point} other the other point\n     * @return {boolean} whether the points are equal\n     */\n    equals: function(other) {\n        return this.x === other.x &&\n               this.y === other.y;\n    },\n\n    /**\n     * Calculate the distance from this point to another point\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    dist: function(p) {\n        return Math.sqrt(this.distSqr(p));\n    },\n\n    /**\n     * Calculate the distance from this point to another point,\n     * without the square root step. Useful if you're comparing\n     * relative distances.\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    distSqr: function(p) {\n        var dx = p.x - this.x,\n            dy = p.y - this.y;\n        return dx * dx + dy * dy;\n    },\n\n    /**\n     * Get the angle from the 0, 0 coordinate to this point, in radians\n     * coordinates.\n     * @return {Number} angle\n     */\n    angle: function() {\n        return Math.atan2(this.y, this.x);\n    },\n\n    /**\n     * Get the angle from this point to another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleTo: function(b) {\n        return Math.atan2(this.y - b.y, this.x - b.x);\n    },\n\n    /**\n     * Get the angle between this point and another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleWith: function(b) {\n        return this.angleWithSep(b.x, b.y);\n    },\n\n    /*\n     * Find the angle of the two vectors, solving the formula for\n     * the cross product a x b = |a||b|sin(θ) for θ.\n     * @param {Number} x the x-coordinate\n     * @param {Number} y the y-coordinate\n     * @return {Number} the angle in radians\n     */\n    angleWithSep: function(x, y) {\n        return Math.atan2(\n            this.x * y - this.y * x,\n            this.x * x + this.y * y);\n    },\n\n    _matMult: function(m) {\n        var x = m[0] * this.x + m[1] * this.y,\n            y = m[2] * this.x + m[3] * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _add: function(p) {\n        this.x += p.x;\n        this.y += p.y;\n        return this;\n    },\n\n    _sub: function(p) {\n        this.x -= p.x;\n        this.y -= p.y;\n        return this;\n    },\n\n    _mult: function(k) {\n        this.x *= k;\n        this.y *= k;\n        return this;\n    },\n\n    _div: function(k) {\n        this.x /= k;\n        this.y /= k;\n        return this;\n    },\n\n    _multByPoint: function(p) {\n        this.x *= p.x;\n        this.y *= p.y;\n        return this;\n    },\n\n    _divByPoint: function(p) {\n        this.x /= p.x;\n        this.y /= p.y;\n        return this;\n    },\n\n    _unit: function() {\n        this._div(this.mag());\n        return this;\n    },\n\n    _perp: function() {\n        var y = this.y;\n        this.y = this.x;\n        this.x = -y;\n        return this;\n    },\n\n    _rotate: function(angle) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = cos * this.x - sin * this.y,\n            y = sin * this.x + cos * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _rotateAround: function(angle, p) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = p.x + cos * (this.x - p.x) - sin * (this.y - p.y),\n            y = p.y + sin * (this.x - p.x) + cos * (this.y - p.y);\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _round: function() {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n    }\n};\n\n/**\n * Construct a point from an array if necessary, otherwise if the input\n * is already a Point, or an unknown type, return it unchanged\n * @param {Array<Number>|Point|*} a any kind of input value\n * @return {Point} constructed point, or passed-through value.\n * @example\n * // this\n * var point = Point.convert([0, 1]);\n * // is equivalent to\n * var point = new Point(0, 1);\n */\nPoint.convert = function (a) {\n    if (a instanceof Point) {\n        return a;\n    }\n    if (Array.isArray(a)) {\n        return new Point(a[0], a[1]);\n    }\n    return a;\n};\n","/*jshint esversion:11 */\nimport * as tilebelt from '@mapbox/tilebelt';\nimport { bounds } from '@mapbox/geo-viewport';\nimport ErrorStackParser from 'error-stack-parser';\nimport Point from '@mapbox/point-geometry';\nconst _lib = globalThis.maplibregl;\n\n// run only in the main thread\nif (_lib !== undefined) {\n    /*\n\n    Map methods\n\n    */\n    const cachedpanto = function (lnglat, options) {\n        const o = Object.assign({}, options, { type: 'pan', center: lnglat }, this._context(options));\n        this._precache(o);\n        if (!!options.run) return this.panTo(point, options);\n    };\n    _lib.Map.prototype.cachedPanTo = cachedpanto;\n\n    const cachedzoomto = function (zoom, options) {\n        const o = Object.assign({}, options, { type: 'zoom', zoom: zoom }, this._context(options));\n        this._precache(o);\n        if (!!options.run) return this.zoomTo(zoom, options);\n    };\n    _lib.Map.prototype.cachedZoomTo = cachedzoomto;\n\n    const cachedjumpto = function (options) {\n        const o = Object.assign({}, options, { type: 'jump' }, this._context(options));\n        this._precache(o);\n        if (!!options.run) return this.jumpTo(o);\n    };\n    _lib.Map.prototype.cachedJumpTo = cachedjumpto;\n\n    const cachedeaseto = function (options) {\n        const o = Object.assign({}, options, { type: 'ease' }, this._context(options));\n        this._precache(o);\n        if (!!options.run) return this.easeTo(o);\n    };\n    _lib.Map.prototype.cachedEaseTo = cachedeaseto;\n\n    const cachedflyto = function (options) {\n        // FIXME: lazy hack as this property is needed for context()\n        options.type = 'fly';\n        const o = Object.assign({}, options, { type: 'fly' }, this._context(options));\n        this._precache(o);\n        if (!!options.run) return this.flyTo(o);\n    };\n    _lib.Map.prototype.cachedFlyTo = cachedflyto;\n    /*\n    \n        Logic\n    \n    */\n    // Gets the needed information related to the Map object\n    const _context = function (options) {\n        // Only the tiled sources are needed\n        const _sources = Object.entries(this.getStyle().sources)\n            .filter(s => ['vector', 'raster'].indexOf(s[1].type) > -1 && (s[1].url !== undefined || s[1].tiles !== undefined))\n            .map(s => this.getSource(s[0]).tiles[0]);\n        const _dimensions = [this.getCanvas().width, this.getCanvas().height];\n        const _tilesize = this.transform.tileSize;\n        const sc = this.getCenter();\n        let zmin = Math.min(this.getZoom(), options.zoom);\n        if (options.type == 'fly') {\n            // From the flyTo logic itself\n            const offsetAsPoint = Point.convert(options.offset || [0, 0]);\n            let pointAtOffset = this.transform.centerPoint.add(offsetAsPoint);\n            const locationAtOffset = this.transform.pointLocation(pointAtOffset);\n            const center = new _lib.LngLat(...options.center);\n            this._normalizeCenter(center);\n            const from = this.transform.project(locationAtOffset);\n            const delta = this.transform.project(center).sub(from);\n            const rho = options.curve || 1.42;\n            const u1 = delta.mag();\n            const wmax = 2 * rho * rho * u1;\n            const zd = this.getZoom() + this.transform.scaleZoom(1 / wmax);\n            zmin = Math.floor(Math.max(Math.min(zmin + zd, options.minZoom || zmin + zd), 0));\n        }\n        return {\n            sources: _sources,\n            dimensions: _dimensions,\n            tilesize: _tilesize,\n            startCenter: [sc.lng, sc.lat],\n            startZoom: this.getZoom(),\n            zmin: zmin\n        };\n    };\n    _lib.Map.prototype._context = _context;\n\n    // build and manage the preloader worker\n    const precache_run = function (o) {\n        if (window === self && this.precache_worker == undefined) {\n            // the actual absolute path of the running script\n            // as the module-typed workers are only supported by Chrome\n            // we can get the path by throwing an error\n            const _imported = ErrorStackParser.parse(new Error('not an actual error!'))[0].fileName;\n            // build inline worker\n            const target = `\n            importScripts('${_imported}');\n            let controller;\n            let signal;\n            onmessage = function (o){\n                if (controller !== undefined && controller.signal !== undefined && !controller.signal.aborted){\n                    controller.abort();               \n                }\n                if (o.data.abort){\n                    postMessage({t: Date.now(), e: true});\n                    return;\n                }\n                controller = new AbortController();\n                signal = controller.signal;     \n                let _func = ${precache_function.toString()};\n                _func.apply(null, [o.data]);\n            }`;\n            const mission = URL.createObjectURL(new Blob([target], { 'type': 'text/javascript' }));\n            this.precache_worker = new Worker(mission);\n            this.precache_worker.onmessage = e => {\n                this.precache_worker.time1 = e.data.t;\n                if (!!o.debug) console.log(`Precaching time: ${this.precache_worker.time1 - this.precache_worker.time0}ms`);\n            };\n        }\n        // Some debugging info\n        delete this.precache_worker.time1;\n        this.once('moveend', e => {\n            if (this.precache_worker.time1 == undefined) {\n                this.precache_worker.postMessage({ abort: true });\n                if (!!o.debug) console.log(`🔶 Movement has finished before preloading`);\n            } else {\n                if (!!o.debug) console.log(`🔚 Movement ends ${(this.precache_worker.time1) ? Date.now() - this.precache_worker.time1 : undefined} ms after precaching`);\n            }\n        });\n        this.precache_worker.time0 = Date.now();\n        this.precache_worker.postMessage(o);\n    };\n    _lib.Map.prototype._precache = precache_run;\n\n}\n\n\nconst precache_function = o => {\n\n    // Final scenario bbox\n    const finalbbox = bounds(o.center, o.zoom, o.dimensions, o.tilesize);\n\n    // all the tiles in a bounding box for a given zoom level\n    // including a buffer of 1 tile\n    const bboxtiles = (bbox, zoom) => {\n        const sw = tilebelt.pointToTile(bbox[0], bbox[1], zoom);\n        const ne = tilebelt.pointToTile(bbox[2], bbox[3], zoom);\n        const result = [];\n        for (let x = sw[0] - 1; x < ne[0] + 2; x++) {\n            for (let y = ne[1] - 1; y < sw[1] + 2; y++) {\n                result.push([x, y, zoom]);\n            }\n        }\n        return result;\n    };\n\n    // Bresenham algorithm for retrieving only the diagonal tiles + siblings\n    const diagonaltiles = (p1, p2, zoom) => {\n        const [x0, y0] = tilebelt.pointToTile(p1[0], p1[1], zoom);\n        const [x1, y1] = tilebelt.pointToTile(p2[0], p2[1], zoom);\n        const [dx, dy] = [Math.abs(x1 - x0), Math.abs(y1 - y0)];\n        const [sx, sy] = [x0 < x1 ? 1 : -1, y0 < y1 ? 1 : -1];\n        let err = (dx > dy ? dx : -dy) / 2;\n        let [x, y] = [x0, y0];\n        let tt = [];\n        while (x !== x1 || y !== y1) {\n            tt.push([x, y, zoom], ...tilebelt.getSiblings([x, y, zoom]));\n            let e2 = err;\n            if (e2 > -dx) {\n                err -= dy;\n                x += sx;\n            }\n            if (e2 < dy) {\n                err += dx;\n                y += sy;\n            }\n        }\n        tt.push([x1, y1, zoom], ...tilebelt.getSiblings([x1, y1, zoom]));\n        // Remove duplicates\n        return [...new Set(tt)];\n    };\n\n    let tz;\n\n    // Get the animation pan diagonal tiles\n    let tiles = [...diagonaltiles(o.startCenter, o.center, o.zmin)];\n    // FIXME: Simple trick to fix eventual miscalculations of zmin fof flyTo\n    if (o.type == 'fly') {\n        tiles.push(...diagonaltiles(o.startCenter, o.center, o.zmin - 1), ...diagonaltiles(o.startCenter, o.center, o.zmin + 1));\n    }\n    // Build the tiles pyramid for final scenario\n    for (let z = o.zoom; z > o.zmin - 1; z--) {\n        const tt = bboxtiles(finalbbox, z);\n        tiles.push(...tt);\n        tz = tt.length;\n    }\n    // Remove duplicates\n    tiles = [...new Set(tiles)];\n    // From tiles [x,y,z] to URLs \n    urls = tiles.map(t => {\n        return o.sources.map(s => {\n            return s.replace('{x}', t[0])\n                .replace('{y}', t[1])\n                .replace('{z}', t[2]);\n        });\n    }).flat();\n\n    // Fetch all\n    Promise.all(urls.map(u => fetch(u, { signal })))\n        .then(d => {\n            if (!!o.debug) console.log(`Estimated gain: ${Math.round(900 * tz / 6)}ms`);\n            if (!!o.debug) console.log(`Prefetched ${urls.length} tiles at zoom levels [${o.zmin} - ${o.zoom}]`);\n            postMessage({ t: Date.now(), e: false });\n        })\n        .catch(e => {\n            if (!!o.debug && e.name !== 'AbortError') console.log('🔴 Precache error');\n        });\n\n};\n\n// To be used with importScripts\nglobalThis.tilebelt = tilebelt;\nglobalThis.bounds = bounds;"],"names":["d2r","Math","PI","r2d","tileToBBOX","tile","e","tile2lon","tile2lat","x","z","pow","y","n","atan","exp","pointToTile","lon","lat","pointToTileFraction","floor","getChildren","getParent","getSiblings","hasTile","tiles","i","length","tilesEqual","tile1","tile2","sin","z2","log","tileToGeoJSON","bbox","type","coordinates","hasSiblings","siblings","tileToQuadkey","index","b","mask","toString","quadkeyToTile","quadkey","q","bboxToTile","bboxCoords","min","max","getBboxZoom","SphericalMercator","cache","D2R","R2D","A","MAXEXTENT","isFloat","Number","options","this","size","c","Bc","Cc","zc","Ac","d","push","prototype","px","ll","zoom","bc","cc","ac","f","round","g","tms_style","srs","ur","concat","convert","xyz","px_ll","px_ur","bounds","minX","apply","minY","maxX","maxY","tms","to","forward","slice","inverse","xy","tan","module","smCache","viewport","dimensions","tileSize","undefined","merc","fetchMerc","tl","br","_capitalize","str","charAt","toUpperCase","substring","_getter","p","booleanProps","numericProps","stringProps","props","StackFrame","obj","getArgs","args","setArgs","v","Object","call","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","fileName","getFileName","lineNumber","getLineNumber","columnNumber","getColumnNumber","functionName","getFunctionName","getIsEval","fromString","argsStartIndex","indexOf","argsEndIndex","lastIndexOf","split","locationString","parts","exec","Boolean","j","isNaN","parseFloat","isFinite","k","String","factory","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","require$$0","parse","error","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","Error","extractLocation","urlLike","replace","filter","line","map","sanitizedLine","location","tokens","locationParts","pop","join","source","functionNameRegex","matches","message","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","result","len","argsRaw","functionCall","shift","Point","clone","add","_add","sub","_sub","multByPoint","_multByPoint","divByPoint","_divByPoint","mult","_mult","div","_div","rotate","a","_rotate","rotateAround","_rotateAround","matMult","m","_matMult","unit","_unit","perp","_perp","_round","mag","sqrt","equals","other","dist","distSqr","dx","dy","angle","atan2","angleTo","angleWith","angleWithSep","cos","Array","isArray","_lib","globalThis","maplibregl","Map","cachedPanTo","lnglat","o","assign","center","_context","_precache","run","panTo","point","cachedZoomTo","zoomTo","cachedJumpTo","jumpTo","cachedEaseTo","easeTo","cachedFlyTo","flyTo","_sources","entries","getStyle","sources","s","url","getSource","_dimensions","getCanvas","width","height","_tilesize","transform","sc","getCenter","zmin","getZoom","offsetAsPoint","offset","pointAtOffset","centerPoint","locationAtOffset","pointLocation","LngLat","_normalizeCenter","from","project","delta","rho","curve","wmax","zd","scaleZoom","minZoom","tilesize","startCenter","lng","startZoom","window","self","precache_worker","target","ErrorStackParser","precache_function","mission","URL","createObjectURL","Blob","Worker","onmessage","time1","data","t","debug","console","time0","once","postMessage","abort","Date","now","finalbbox","bboxtiles","sw","tilebelt","ne","diagonaltiles","p1","p2","x0","y0","x1","y1","abs","sx","sy","err","tt","e2","Set","tz","urls","flat","Promise","all","u","fetch","signal","then","catch","name"],"mappings":"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"}